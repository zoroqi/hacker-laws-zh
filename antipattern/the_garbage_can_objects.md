---
id: 20221108163257_81febaeda27745f4
date: "2022-11-08"
aliases:
- The Garbage Can Objects
- 垃圾桶对象
name: The Garbage Can Objects
zhname: 垃圾桶对象
groups: 面向对象设计
category:
- 反面模式
- antipattern
- 方法论
---

# 垃圾桶对象

我自己定义的, 没注意到类似的模式.

一个巨大的对象, 里面充斥着各种不明所以的数据字段.
某段程序就像流浪汉一样在这个垃圾桶中找自己需要的东西,
    找到后把数据处理完在放回到垃圾桶中,
    等待下一段程序继续捡拾其中的有用的内容.

垃圾桶对象常见形式是有着众多字段的对象;
    另一种常见方式是 `map[string]any`;
    为了面向未来的扩展留一个车 etc, other 这种字段, 控制不好就垃圾桶了.

当然这个对象重要特征是,
    每一重要函数都有这个对象作为入参,
    并且这个对象也是实际的出参,
    而函数的实际返回值通常是用来表示成功与否或控制调用方逻辑的.

我认为导致这种现象的原因是
1. 需求变动不断的加字段, 程序员懒惰不愿对代码进行小的重构, 开始在一个有一定相关性的对象中加入字段进行处理. 之后逐渐腐化成这个样子
2. 本身存在一个类似性质的字段用于监控或其他辅助性的目的, 同样被滥用导致问题.

当出现这种行为的时候, 不进行重构的情况下, 新的业务只能通过追加字段来解决; 不能删除, 因为很难知道字段被那个流程使用过, 尤其是跨服务间的垃圾桶对象.

类似模式
* [[god_object|上帝对象]]